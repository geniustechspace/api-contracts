syntax = "proto3";

package geniustechspace.common.datetime.v1;

// =============================================================================
// TIME MODULE - v1.0.0
// =============================================================================
//
// Time objects, ranges and recurring event patterns for scheduling.
// Supports flexible scheduling scenarios with iCalendar compatibility.
//
// USAGE:
// - Event scheduling
// - Availability windows
// - Recurring appointments
// - Business hours
//
// COMPLIANCE:
// - RFC 5545: iCalendar recurrence rules
//
// =============================================================================

import "google/protobuf/timestamp.proto";
import "buf/validate/validate.proto";
// import "common/datetime/enums.proto";

// Language-specific code generation options
option go_package = "github.com/geniustechspace/api-contracts/gen/go/common/v1";
option java_multiple_files = true;
option java_package = "com.geniustechspace.api.common.v1";


// =============================================================================
// TIME OBJECT
// =============================================================================
//
// Time represents a time of day without date or timezone.
//
// USAGE:
// - Daily schedules
// - Recurring time slots
// - Business hours
// - Alarms and reminders
//
// VALIDATION:
// - hour: 0-23
// - minute: 0-59
// - second: 0-59
//
// EXAMPLES:
// - 14:30:00 for 2:30 PM
// - 09:15:30 for 9:15:30 AM

message Time {
  // Hour of the day (0-23).
  // RANGE: 0 to 23
  // USAGE: 24-hour format
  int32 hour = 1 [(buf.validate.field).int32 = {gte: 0, lte: 23}];

  // Minute of the hour (0-59).
  // RANGE: 0 to 59
  // USAGE: 60-minute format
  int32 minute = 2 [(buf.validate.field).int32 = {gte: 0, lte: 59}];

  // Second of the minute (0-59).
  // RANGE: 0 to 59
  // USAGE: 60-second format
  int32 second = 3 [(buf.validate.field).int32 = {gte: 0, lte: 59}];

  // Optional sub-second precision (0-999).
  // RANGE: 0 to 999
  // USAGE: Millisecond format
  int32 millisecond = 4 [(buf.validate.field).int32 = {gte: 0, lte: 999}];

  // Optional microsecond precision (0-999999).
  // RANGE: 0 to 999999
  // USAGE: Microsecond format
  int32 microsecond = 5 [(buf.validate.field).int32 = {gte: 0, lte: 999999}];

  // Optional nanosecond precision (0-999999999).
  // RANGE: 0 to 999999999
  // USAGE: Nanosecond format
  int32 nanosecond = 6 [(buf.validate.field).int32 = {gte: 0, lte: 999999999}];

  // Optional timezone identifier (IANA format).
  // USAGE: Specify timezone for time context
  string timezone = 7 [(buf.validate.field).string.pattern = "^[A-Za-z_]+/[A-Za-z_]+$"];

  // Optional timezone offset (in minutes).
  // RANGE: -840 to 840 (represents -14:00 to +14:00)
  // USAGE: Specify timezone offset for time context
  int32 timezone_offset = 8 [(buf.validate.field).int32 = {gte: -840, lte: 840}];

  // Reserved for future extensions
  reserved 9 to 10;
}


// =============================================================================
// TIME RANGE
// =============================================================================
//
// TimeRange represents a period between two times of day.
//
// USAGE:
// - Daily availability windows
// - Recurring time slots
// - Business hours
// - Alarms and reminders
//
// EXAMPLES:
// - 09:00 to 17:00 for business hours
// - 14:30 to 15:30 for a meeting slot

message TimeRange {
  // Start time of the range (inclusive).
  // USAGE: Beginning of time period
  Time start_time = 1 [(buf.validate.field).required = true];

  // End time of the range (exclusive).
  // USAGE: End of time period
  Time end_time = 2 [(buf.validate.field).required = true];

  // Optional timezone identifier (IANA format).
  // USAGE: Specify timezone for time context
  string timezone = 3 [(buf.validate.field).string.pattern = "^[A-Za-z_]+/[A-Za-z_]+$"];

  // Optional timezone offset (in minutes).
  // RANGE: -840 to 840 (represents -14:00 to +14:00)
  // USAGE: Specify timezone offset for time context
  int32 timezone_offset = 4 [(buf.validate.field).int32 = {gte: -840, lte: 840}];

  // Reserved for future extensions
  reserved 5 to 10;
}
